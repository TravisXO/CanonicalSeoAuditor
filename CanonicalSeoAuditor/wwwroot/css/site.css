/* ========================================
   SHAMIL PALETTE
   --lapis:     #1B2D4F  (Strength)
   --amber:     #C97B2F  (Honour)
   --bloom:     #C25B52  (Ambition)
   --teal:      #2E6E65  (Mastery)
   --saffron:   #E8AA3A  (Insight)
   --parchment: #F0E0C4  (Legacy)
   ======================================== */

@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Outfit:wght@300;400;500;600&family=Fira+Code:wght@400;500&display=swap');

/* === CSS VARIABLES === */
:root {
    --lapis: #1B2D4F;
    --amber: #C97B2F;
    --bloom: #C25B52;
    --teal: #2E6E65;
    --saffron: #E8AA3A;
    --parchment: #F0E0C4;
    --bg-deep: #0B1118;
    --bg-surface: #111A24;
    --bg-card: #162030;
    --bg-card-hover: #1B2A3E;
    --border-dim: rgba(240, 224, 196, 0.07);
    --border-amber: rgba(201, 123, 47, 0.28);
    --text-main: #EBE4D8;
    --text-sub: #8A9BB0;
    --text-dim: #4E5F72;
    --font-display: 'Syne', sans-serif;
    --font-body: 'Outfit', sans-serif;
    --font-mono: 'Fira Code', monospace;
}

/* === RESET & BASE === */
html {
    font-size: 14px;
    scroll-behavior: smooth;
    position: relative;
    min-height: 100%;
}

@media (min-width: 768px) {
    html {
        font-size: 16px;
    }
}

body {
    margin-bottom: 0;
    background-color: var(--bg-deep);
    color: var(--text-main);
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
}

/* === FOCUS RING === */
.btn:focus,
.btn:active:focus,
.btn-link.nav-link:focus,
.form-control:focus,
.form-check-input:focus {
    box-shadow: 0 0 0 0.1rem var(--bg-deep), 0 0 0 0.3rem rgba(201, 123, 47, 0.45);
}

/* ========================================
   NAVBAR
   ======================================== */
header nav.navbar {
    background-color: var(--bg-surface) !important;
    border-bottom: 1px solid var(--border-amber) !important;
    box-shadow: 0 2px 24px rgba(0, 0, 0, 0.45) !important;
    padding: 0.75rem 0;
}

.navbar-brand {
    font-family: var(--font-display);
    font-weight: 800;
    font-size: 1.15rem;
    color: var(--saffron) !important;
    letter-spacing: 0.04em;
    text-decoration: none !important;
}

    .navbar-brand::before {
        content: '? ';
        color: var(--amber);
        font-weight: 400;
    }

    .navbar-brand::after {
        content: ' ?';
        color: var(--amber);
        font-weight: 400;
    }

.nav-link,
.nav-link.text-dark {
    color: var(--text-sub) !important;
    font-family: var(--font-body);
    font-size: 0.88rem;
    font-weight: 500;
    letter-spacing: 0.04em;
    padding: 0.4rem 1rem !important;
    position: relative;
    transition: color 0.2s;
}

    .nav-link::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 1rem;
        right: 1rem;
        height: 2px;
        background: var(--amber);
        transform: scaleX(0);
        transition: transform 0.22s ease;
        border-radius: 2px;
    }

    .nav-link:hover,
    .nav-link.text-dark:hover {
        color: var(--parchment) !important;
    }

        .nav-link:hover::after {
            transform: scaleX(1);
        }

.navbar-toggler {
    border-color: var(--border-amber);
    padding: 0.3rem 0.6rem;
}

.navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(201,123,47,0.85)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* ========================================
   FOOTER
   ======================================== */
footer.border-top.footer {
    background-color: var(--bg-surface);
    border-top: 1px solid var(--border-amber) !important;
    color: var(--text-dim);
    font-family: var(--font-body);
    font-size: 0.8rem;
    padding: 1.1rem 0;
    margin-top: 3rem;
}

footer.footer a {
    color: var(--amber);
    text-decoration: none;
    transition: color 0.2s;
}

    footer.footer a:hover {
        color: var(--saffron);
    }

/* ========================================
   BOOTSTRAP OVERRIDES — DARK THEME
   ======================================== */
.card {
    background-color: var(--bg-card);
    border-color: var(--border-dim);
    color: var(--text-main);
    border-radius: 10px;
}

.card-header {
    border-bottom-color: var(--border-dim);
}

.card-footer {
    border-top-color: var(--border-dim);
    background-color: rgba(255, 255, 255, 0.025);
}

.card-header.bg-primary {
    background: linear-gradient(135deg, var(--lapis) 0%, #0E1C30 100%) !important;
    border-bottom: 2px solid var(--amber) !important;
}

/* Dark surface */
.bg-dark {
    background-color: var(--lapis) !important;
}

.bg-light {
    background-color: rgba(255, 255, 255, 0.04) !important;
}

/* Text */
.text-dark {
    color: var(--parchment) !important;
}

.text-muted {
    color: var(--text-dim) !important;
}

.text-secondary {
    color: var(--text-sub) !important;
}

.text-info {
    color: var(--saffron) !important;
}

.text-success {
    color: #4ade80 !important;
}

.text-danger {
    color: #f87171 !important;
}

.text-warning {
    color: var(--saffron) !important;
}

/* Borders */
.border-bottom {
    border-bottom-color: var(--border-dim) !important;
}

.border-end {
    border-right-color: var(--border-dim) !important;
}

.border,
.border-top {
    border-color: var(--border-dim) !important;
}

/* Forms */
.form-control {
    background-color: var(--bg-surface);
    border-color: var(--border-amber);
    color: var(--text-main);
    font-family: var(--font-body);
    border-radius: 8px;
    transition: border-color 0.2s, box-shadow 0.2s;
}

    .form-control:focus {
        background-color: var(--bg-surface);
        color: var(--text-main);
        border-color: var(--amber);
    }

    .form-control::placeholder {
        color: var(--text-dim);
    }

.input-group-text {
    background-color: var(--bg-surface) !important;
    border-color: var(--border-amber) !important;
    color: var(--amber) !important;
}

.form-text {
    color: var(--text-dim) !important;
}

/* Buttons */
.btn-primary {
    background-color: var(--amber);
    border-color: var(--amber);
    color: #0B1118;
    font-family: var(--font-body);
    font-weight: 600;
    letter-spacing: 0.04em;
    transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
}

    .btn-primary:hover,
    .btn-primary:focus {
        background-color: var(--saffron);
        border-color: var(--saffron);
        color: #0B1118;
    }

    .btn-primary:active {
        transform: scale(0.98);
    }

.btn-outline-primary {
    border-color: var(--amber);
    color: var(--amber);
    font-family: var(--font-body);
    font-weight: 500;
}

    .btn-outline-primary:hover {
        background-color: var(--amber);
        border-color: var(--amber);
        color: #0B1118;
    }

.btn-close {
    filter: invert(1) opacity(0.6);
}

/* Badges */
.badge {
    font-family: var(--font-body);
    font-weight: 500;
    font-size: 0.71rem;
    letter-spacing: 0.04em;
    padding: 0.33em 0.65em;
    border-radius: 5px;
}

.bg-success {
    background-color: rgba(22, 101, 52, 0.6) !important;
    color: #4ade80 !important;
    border: 1px solid rgba(74, 222, 128, 0.25) !important;
}

.bg-danger {
    background-color: rgba(127, 29, 29, 0.6) !important;
    color: #fca5a5 !important;
    border: 1px solid rgba(252, 165, 165, 0.25) !important;
}

.bg-warning {
    background-color: rgba(120, 53, 15, 0.6) !important;
    color: var(--saffron) !important;
    border: 1px solid rgba(232, 170, 58, 0.3) !important;
}

    .bg-warning.text-dark {
        color: var(--saffron) !important;
    }

.bg-primary {
    background-color: rgba(27, 45, 79, 0.8) !important;
    color: var(--parchment) !important;
    border: 1px solid rgba(201, 123, 47, 0.2) !important;
}

.bg-info {
    background-color: rgba(46, 110, 101, 0.4) !important;
    color: #6ee7b7 !important;
    border: 1px solid rgba(110, 231, 183, 0.2) !important;
}

.bg-secondary {
    background-color: rgba(30, 41, 59, 0.7) !important;
    color: var(--text-sub) !important;
    border: 1px solid rgba(138, 155, 176, 0.15) !important;
}

/* List groups */
.list-group-item {
    background-color: transparent;
    border-color: var(--border-dim);
    color: var(--text-main);
}

/* Alerts */
.alert-danger {
    background-color: rgba(194, 91, 82, 0.12);
    border-color: rgba(194, 91, 82, 0.4);
    color: #fdafaa;
}

.alert-warning {
    background-color: rgba(232, 170, 58, 0.1);
    border-color: rgba(232, 170, 58, 0.35);
    color: var(--saffron);
}

/* Progress bars */
.progress {
    background-color: rgba(255, 255, 255, 0.06);
    border-radius: 100px;
    overflow: hidden;
}

/* Code / mono */
code {
    color: var(--saffron);
    font-family: var(--font-mono);
    background: rgba(232, 170, 58, 0.1);
    padding: 0.1em 0.35em;
    border-radius: 4px;
}

.font-monospace {
    font-family: var(--font-mono) !important;
}

/* Typography overrides */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
}

/* Shadow utilities */
.shadow,
.shadow-sm {
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.35) !important;
}

/* ========================================
   LOADING OVERLAY
   ======================================== */
#loadingOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(11, 17, 24, 0.97);
    z-index: 9999;
    display: none; /* toggled by JS */
    flex-direction: column;
    justify-content: center;
    align-items: center;
    backdrop-filter: blur(10px);
}

    #loadingOverlay h3 {
        color: var(--parchment);
        font-family: var(--font-display);
        font-weight: 700;
        letter-spacing: 0.06em;
        margin-top: 1.5rem;
        font-size: 1.4rem;
    }

    #loadingOverlay p,
    #loadingOverlay small {
        color: var(--text-sub);
        font-family: var(--font-body);
    }

    #loadingOverlay .progress {
        background-color: rgba(255, 255, 255, 0.06);
        border-radius: 100px;
    }

    #loadingOverlay .progress-bar {
        background: linear-gradient(90deg, var(--amber), var(--saffron));
    }

.spinner-pulse {
    width: 4rem;
    height: 4rem;
    background-color: var(--amber);
    border-radius: 50%;
    animation: pulse 1.2s infinite ease-in-out;
}

@keyframes pulse {
    0% {
        transform: scale(0);
        opacity: 0.8;
    }

    100% {
        transform: scale(1);
        opacity: 0;
    }
}

/* ========================================
   RESULT DASHBOARD STYLES
   ======================================== */
.status-badge {
    width: 100px;
    text-align: center;
}

.card-meta {
    transition: transform 0.22s ease, box-shadow 0.22s ease, border-color 0.22s ease;
    border: 1px solid var(--border-dim) !important;
    background-color: var(--bg-card);
}

    .card-meta:hover {
        transform: translateY(-4px);
        box-shadow: 0 14px 36px rgba(0, 0, 0, 0.4) !important;
        border-color: var(--border-amber) !important;
    }

.progress-label {
    font-size: 0.75rem;
    font-weight: bold;
}

.issue-list {
    max-height: 150px;
    overflow-y: auto;
}

/* Score Circle */
.score-circle {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    border: 10px solid rgba(255, 255, 255, 0.07);
    background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.03), transparent 70%);
}

    .score-circle.excellent {
        border-color: #22C55E;
        color: #22C55E;
        box-shadow: 0 0 30px rgba(34, 197, 94, 0.2);
    }

    .score-circle.good {
        border-color: var(--saffron);
        color: var(--saffron);
        box-shadow: 0 0 30px rgba(232, 170, 58, 0.2);
    }

    .score-circle.fair {
        border-color: var(--amber);
        color: var(--amber);
        box-shadow: 0 0 30px rgba(201, 123, 47, 0.2);
    }

    .score-circle.poor {
        border-color: var(--bloom);
        color: var(--bloom);
        box-shadow: 0 0 30px rgba(194, 91, 82, 0.2);
    }

/* Custom Backgrounds for Progress Bars */
.bg-score-excellent {
    background-color: #22C55E !important;
}

.bg-score-good {
    background-color: var(--saffron) !important;
}

.bg-score-fair {
    background-color: var(--amber) !important;
}

.bg-score-poor {
    background-color: var(--bloom) !important;
}

/* Tooltip / info icon */
.info-icon {
    cursor: help;
    font-size: 0.9rem;
    margin-left: 5px;
    color: var(--text-dim);
    transition: color 0.2s;
}

    .info-icon:hover {
        color: var(--saffron);
    }

/* ========================================
   RESULTS PAGE SPECIFIC
   ======================================== */

/* Section headings */
h3.border-bottom.pb-2.fw-bold {
    font-family: var(--font-display);
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: 0.18em;
    color: var(--amber) !important;
    border-bottom-color: var(--border-amber) !important;
}

/* URL header card */
.card.shadow-sm.border-0.mb-4.bg-dark.text-white {
    background: linear-gradient(135deg, var(--lapis) 0%, #0A1520 100%) !important;
    border: 1px solid var(--border-amber) !important;
}

.card.bg-dark h6 {
    color: var(--amber) !important;
    font-family: var(--font-body);
    font-size: 0.7rem;
    letter-spacing: 0.2em;
}

.card.bg-dark h2.text-break {
    color: var(--parchment);
    font-family: var(--font-mono);
    font-size: 1rem;
    word-break: break-all;
    font-weight: 400;
}

.card.bg-dark .text-info {
    color: var(--text-sub) !important;
}

/* Score dashboard card (shadow border-0) */
.card.shadow.border-0 {
    border: 1px solid var(--border-amber) !important;
    background: linear-gradient(135deg, var(--bg-card) 0%, #0E1A26 100%);
}

    /* Category breakdown section */
    .card.shadow.border-0 h5.text-uppercase.text-muted {
        font-family: var(--font-body);
        font-size: 0.7rem;
        letter-spacing: 0.2em;
        color: var(--text-dim) !important;
    }

    .card.shadow.border-0 h5.mb-3.text-muted {
        color: var(--text-sub) !important;
        font-family: var(--font-display);
        font-size: 0.88rem;
        letter-spacing: 0.06em;
    }

/* OG image preview */
.bg-light.p-2.text-center.rounded {
    background-color: rgba(255, 255, 255, 0.03) !important;
    border: 1px solid var(--border-dim);
}

/* Canonical tag monospace field */
.bg-light.p-2.rounded.border.small.text-truncate {
    background-color: rgba(0,0,0,0.2) !important;
    border-color: var(--border-dim) !important;
    color: var(--saffron);
    font-family: var(--font-mono);
    font-size: 0.78rem !important;
}

/* ========================================
   INDEX PAGE SPECIFIC
   ======================================== */
.audit-hero {
    padding: 3rem 0 1.5rem;
    text-align: center;
}

    .audit-hero h2 {
        font-family: var(--font-display);
        font-size: clamp(1.6rem, 4vw, 2.2rem);
        font-weight: 800;
        color: var(--parchment);
        letter-spacing: 0.02em;
        margin-bottom: 0.5rem;
    }

        .audit-hero h2 span {
            color: var(--amber);
        }

    .audit-hero p {
        color: var(--text-sub);
        font-size: 1rem;
        max-width: 480px;
        margin: 0 auto;
    }

.audit-features {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    flex-wrap: wrap;
    margin-top: 0.5rem;
}

.audit-feature-item {
    font-size: 0.78rem;
    color: var(--text-sub);
    display: flex;
    align-items: center;
    gap: 0.35rem;
}

    .audit-feature-item i {
        color: var(--teal);
        font-size: 0.85rem;
    }

/* ========================================
   SCROLL FADE-IN (added by JS)
   ======================================== */
.card-meta {
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 0.45s ease, transform 0.45s ease, box-shadow 0.22s ease, border-color 0.22s ease;
}

    .card-meta.visible {
        opacity: 1;
        transform: translateY(0);
    }

        .card-meta.visible:hover {
            transform: translateY(-4px);
        }

/* ========================================
   PRINT
   ======================================== */
@media print {
    body {
        background: white !important;
        color: black !important;
    }

    .card {
        border: 1px solid #ddd !important;
        background: white !important;
    }

    .navbar, footer, #loadingOverlay {
        display: none !important;
    }
}
